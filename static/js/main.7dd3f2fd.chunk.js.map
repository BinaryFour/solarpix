{"version":3,"sources":["apis/files.js","components/InputForm.js","components/pages/CreateJob.js","actions/index.js","actions/types.js","components/Footer.js","components/pages/CategoryList.js","apis/photoDatabase.js","components/saveImage.js","components/Camera.js","components/pages/CategoryEdit.js","components/App.js","reducers/newJobReducer.js","reducers/index.js","reducers/categoriesReducer.js","reducers/toUploadReducer.js","index.js","localStorage.js","categoryListFile"],"names":["axios","create","baseURL","withCredentials","auth","username","password","InputForm","renderInput","_ref","label","input","meta","className","concat","error","touched","react_default","a","createElement","Object","assign","autoComplete","_this","renderError","renderDropdown","_ref2","props","value","onSubmit","formValues","_ref3","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","userName","projectName","profileName","CreateJob","state","toCategories","createNewJob","setState","Redirect","to","components_InputForm","initialValues","connect","dispatch","type","payload","profile","Footer","links","map","link","Link","path","key","id","classname","length","renderList","CategoryList","localStorage","getItem","includes","readTextFile","categoryListFile","err","categories","category","title","description","style","marginBottom","components_Footer","values","textFile","asyncToGenerator","regenerator_default","mark","_callee2","categoryArray","counter","wrap","_context2","prev","next","files","get","sent","data","split","forEach","tempArray","obj","photoQty","photoQueue","push","stop","_x3","apply","arguments","photoDatabase","Dexie","version","stores","photoStore","open","catch","e","console","saveImage","src","callback","img","Image","crossOrigin","onload","dataURL","canvas","document","ctx","getContext","height","naturalHeight","width","naturalWidth","drawImage","toDataURL","complete","undefined","log","styles","display","Camera","handleImage","event","target","onChange","accept","htmlFor","CategoryEdit","imageTitle","imageId","imageQty","thumbnails","onClick","onAddPhoto","lastModified","URL","createObjectURL","getPhotoUrl","photoUrl","uploadStatus","addPhoto","match","params","add","photoId","getThumbnails","transaction","i","getCategory","_this2","image","alt","components_Camera","ownProps","getState","toUploadQueue","uploadImage","_callee","formData","response","_context","FormData","append","post","_x","_x2","App","marginTop","HashRouter","Route","exact","INITIAL_STATE","combineReducers","formReducer","newJob","action","objectSpread","_","mapKeys","defineProperty","uploadQueue","persistedState","localState","JSON","parse","getLocalStorage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","offline","offlineConfig","subscribe","stringify","setItem","setLocalStorage","ReactDOM","render","es","components_App","querySelector","module","exports","__webpack_require__","p"],"mappings":"oUAMeA,WAAMC,OAAO,CAC1BC,QAAU,wBACVC,iBAAiB,EACjBC,KANgB,CAAEC,SAAU,SAAUC,SAAU,gCCa5CC,6MAgBJC,YAAc,SAAAC,GAA0B,IAAxBC,EAAwBD,EAAxBC,MAAOC,EAAiBF,EAAjBE,MAAOC,EAAUH,EAAVG,KACtBC,EAAS,SAAAC,OAAYF,EAAKG,OAASH,EAAKI,QAAU,QAAU,IAClE,OACEC,EAAAC,EAAAC,cAAA,OAAKN,UAAWA,GACdI,EAAAC,EAAAC,cAAA,aAAQT,GACRO,EAAAC,EAAAC,cAAA,QAAAC,OAAAC,OAAA,GAAWV,EAAX,CAAkBW,aAAa,SAC9BC,EAAKC,YAAYZ,OAQxBa,eAAiB,SAAAC,EAAuBC,GAAU,IAA/BjB,EAA+BgB,EAA/BhB,MAAOC,EAAwBe,EAAxBf,MAAOC,EAAiBc,EAAjBd,KACzBC,EAAS,SAAAC,OAAYF,EAAKG,OAASH,EAAKI,QAAU,QAAU,IAClE,OACEC,EAAAC,EAAAC,cAAA,OAAKN,UAAWA,GACdI,EAAAC,EAAAC,cAAA,aAAQT,GACRO,EAAAC,EAAAC,cAAA,SAAYR,EACVM,EAAAC,EAAAC,cAAA,UAAQS,MAAM,SAAd,SACAX,EAAAC,EAAAC,cAAA,UAAQS,MAAM,cAAd,eAEDL,EAAKC,YAAYZ,OAMxBiB,SAAW,SAACC,GACVP,EAAKI,MAAME,SAASC,kFA1CS,IAAjBf,EAAiBgB,EAAjBhB,MACZ,GAD6BgB,EAAVf,SACJD,EACb,OACEE,EAAAC,EAAAC,cAAA,OAAKN,UAAU,oBACbI,EAAAC,EAAAC,cAAA,OAAKN,UAAU,UAAUE,qCA2C/B,OACEE,EAAAC,EAAAC,cAAA,QAAMN,UAAU,gBAAgBgB,SAAUG,KAAKL,MAAMM,aAAaD,KAAKH,WACrEZ,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAOC,KAAK,WAAWzB,MAAM,YAAY0B,UAAWJ,KAAKxB,cACzDS,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAOC,KAAK,cAAczB,MAAM,eAAe0B,UAAWJ,KAAKxB,cAC/DS,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAOC,KAAK,cAAczB,MAAM,UAAU0B,UAAWJ,KAAKP,iBAC1DR,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAQN,UAAU,qBAAlB,kBAzDgBwB,IAAMC,WAwFfC,cAAU,CACvBC,KAAM,YACNC,SApBe,SAACX,GAChB,IAAMY,EAAS,GAYf,OAVKZ,EAAWa,WACdD,EAAOC,SAAW,8BAEfb,EAAWc,cACdF,EAAOE,YAAc,iCAElBd,EAAWe,cACdH,EAAOG,YAAc,6BAGhBH,IAKMH,CAGZhC,GCzFGuC,6MAEJC,MAAQ,CAAEC,cAAc,KAWxBnB,SAAW,SAACC,GACVP,EAAKI,MAAMsB,aAAanB,GAExBP,EAAK2B,SAAS,CAAEF,cAAc,0HAQ9B,OAA+B,IAA5BhB,KAAKe,MAAMC,aACL/B,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CAAUC,GAAG,gBAIpBnC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAACkC,EAAD,CAAWxB,SAAUG,KAAKH,SAAUyB,cAAe,CAACT,YAAa,mBA/BjDR,IAAMC,WAqCfiB,cAAQ,KAAM,CAAEN,aCWH,SAACN,EAAUC,EAAaC,GAAxB,OAAwC,SAAAW,GAElEA,EAAS,CAAEC,KCpEa,aDoEKC,QAAS,CAACf,SAAUA,EAAUC,YAAaA,EAAae,QAASd,QDbjFU,CAAgCT,6BG3BhCc,qLArBFjC,GACT,OAAOK,KAAKL,MAAMkC,MAAMC,IAAK,SAAAC,GAC3B,OACE9C,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAMZ,GAAIW,EAAKE,KAAMpD,UAAU,OAAOqD,IAAKH,EAAKI,IAC7CJ,EAAKrD,0CAOZ,IAAM0D,EAAS,mBAAAtD,OAAsBkB,KAAKL,MAAMkC,MAAMQ,OAAvC,mBACf,OACEpD,EAAAC,EAAAC,cAAA,OAAKN,UAAWuD,GACbpC,KAAKsC,qBAlBOjC,IAAMC,WCkBrBuB,EAAQ,CACZ,CAAEI,KAAM,IAAKE,GAAI,SAAUzD,MAAO,YAG9B6D,8LAKF,IACKC,aAAaC,QAAQ,SAASC,SAA9B,oBACD1C,KAAKL,MAAMgD,aAAaC,KAE1B,MAAOC,GAEP7C,KAAKL,MAAMgD,aAAaC,2CAM1B,OAAO5C,KAAKL,MAAMmD,WAAWhB,IAAK,SAAAiB,GAChC,OACE9D,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAMZ,GAAE,eAAAtC,OAAiBiE,EAASZ,IAAMtD,UAAU,OAAOqD,IAAKa,EAASZ,IACrElD,EAAAC,EAAAC,cAAA,KAAGN,UAAU,qCACbI,EAAAC,EAAAC,cAAA,OAAKN,UAAU,WACZkE,EAASC,MACV/D,EAAAC,EAAAC,cAAA,OAAKN,UAAU,eAAekE,EAASE,kDAS/C,OACEhE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,OAAKN,UAAU,iBAAiBqE,MAAO,CAAEC,aAAc,SAAUnD,KAAKsC,cACtErD,EAAAC,EAAAC,cAACiE,EAAD,CAAQvB,MAAOA,YApCIxB,IAAMC,WAiDlBiB,cAPS,SAACR,GAEvB,MAAM,CACJ+B,WAAY1D,OAAOiE,OAAOtC,EAAM+B,cAII,CAAEH,aHCd,SAACW,GAAD,sBAAA5D,EAAAN,OAAAmE,EAAA,EAAAnE,CAAAoE,EAAAtE,EAAAuE,KAAc,SAAAC,EAAMlC,GAAN,IAAAmC,EAAAC,EAAA,OAAAJ,EAAAtE,EAAA2E,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAClCL,EAAgB,GAChBC,EAAU,EAFwBE,EAAAE,KAAA,EAIfC,EAAMC,IAAIZ,GAJK,OAAAQ,EAAAK,KAMbC,KAAKC,MAAM,MAG1BC,QAAS,SAAAvB,GAEjB,GAAGA,EAAS,CACV,IAAIwB,EAAYxB,EAASsB,MAAM,KAC3BG,EAAM,CAAErC,GAAGyB,EAASZ,MAAMuB,EAAU,GAAItB,YAAasB,EAAU,GAAIE,SAAU,EAAGC,WAAY,IAChGf,EAAcgB,KAAKH,GACnBZ,GAAW,KAKfpC,EAAS,CAAEC,KC9Fc,gBD8FOC,QAASiC,IApBH,wBAAAG,EAAAc,SAAAlB,EAAA1D,SAAd,gBAAA6E,GAAA,OAAAnF,EAAAoF,MAAA9E,KAAA+E,YAAA,KGDbxD,CAA2CgB,GCtEpDyC,EAAgB,WAAIC,GAAM,iBAGhCD,EAAcE,QAAQ,GAAGC,OAAO,CAC5BC,WAAY,mCAIhBJ,EAAcK,OAAOC,MAAM,SAAUC,GACjCC,QAAQzG,MAAM,gBAAkBwG,KAKrBP,QCNFS,EAAY,SAACC,EAAKC,GAE7B,IAAIC,EAAM,IAAIC,MAEdD,EAAIE,YAAc,YAClBF,EAAIG,OAAS,WAGX,IAGIC,EAHAC,EAASC,SAAS/G,cAAc,UAEhCgH,EAAMF,EAAOG,WAAW,MAG5BH,EAAOI,OAAST,EAAIU,cACpBL,EAAOM,MAAQX,EAAIY,aAEnBL,EAAIM,UAAUb,EAAK,EAAG,GAEtBI,EAAUC,EAAOS,UAAU,aAAa,IAExCf,EAASK,GAGTC,EAAS,MAGXL,EAAIF,IAAMA,GAENE,EAAIe,eAA6BC,IAAjBhB,EAAIe,YAEtBf,EAAIF,IAAM,yEAEVF,QAAQqB,IAAI,uCACZjB,EAAIF,IAAMA,ICnCRoB,EAAS,CACbC,QAAS,QAqBIC,6MAfbC,YAAc,SAACC,GACb3H,EAAKI,MAAME,SAASqH,EAAMC,OAAOlD,MAAM,6EAKvC,OACEhF,EAAAC,EAAAC,cAAA,OAAKN,UAAU,wBACbI,EAAAC,EAAAC,cAAA,SAAON,UAAU,YAAYsD,GAAG,OAAOiF,SAAUpH,KAAKiH,YAAaxF,KAAK,OAAO4F,OAAO,yBAAyBnE,MAAO4D,IACtH7H,EAAAC,EAAAC,cAAA,SAAON,UAAU,0BAA0ByI,QAAQ,QAAnD,sBAZajH,IAAMC,WCarBuB,EAAQ,CACZ,CAAEI,KAAM,cAAeE,GAAG,eAAgBzD,MAAO,SAI7C6I,6MAEJxG,MAAQ,CAAEyG,WAAY,GAAIC,QAAQ,GAAIC,SAAUnI,EAAKI,MAAMoD,SAAS0B,SAAUkD,WAAY,MAwB1FC,QAAU,SAACzF,GACTqD,QAAQqB,IAAR,gCAAA/H,OAA4CqD,OAI9C0F,WAAa,SAACjC,GAEZ,IAAM8B,EAAWnI,EAAKwB,MAAM2G,SAAW,EAEjCF,EAAU,GAAA1I,OAAMS,EAAKI,MAAMoD,SAASC,MAA1B,KAAAlE,OAAmC4I,GAGnDnI,EAAK2B,SAAS,CAAEsG,WAAYA,EAAYE,SAAUA,EAAUD,QAAS7B,EAAIkC,eAEzErC,EAAUsC,IAAIC,gBAAgBpC,GAAMrG,EAAK0I,gBAM3CA,YAAc,SAACC,GAEb,IAAIxD,EAAanF,EAAKI,MAAMoD,SAAS2B,WACrCA,EAAWC,KAAK,CAAExC,GAAI5C,EAAKwB,MAAM0G,QAASD,WAAYjI,EAAKwB,MAAMyG,WAAYW,cAAc,IAE3F5I,EAAKI,MAAMyI,SAAS7I,EAAKI,MAAM0I,MAAMC,OAAOnG,GAAI5C,EAAKwB,MAAM2G,SAAUhD,GAMrEM,EAAcI,WAAWmD,IAAI,CAAEC,QAASjJ,EAAKwB,MAAM0G,QAASzB,QAASkC,EAAUC,cAAc,IAC7F5I,EAAKkJ,gBAMLlJ,EAAK2B,SAAS,CAAEuG,QAAS,GAAID,WAAY,QAG3CiB,cAAgB,WACdjD,QAAQqB,IAAI,yBACZ,IAAItC,EAAYhF,EAAKwB,MAAM4G,WACrBjD,EAAanF,EAAKI,MAAMoD,SAAS2B,WAEvCM,EAAc0D,YAAY,IAAK1D,EAAcI,WAAY,WACvD,IAAK,IAAIuD,EAAI,EAAGA,EAAEjE,EAAWrC,OAAQsG,IACnCpE,EAAUI,KAAKK,EAAcI,WAAWlB,IAAIQ,EAAWiE,GAAGxG,KAE5DqD,QAAQqB,IAAI,yCAAyC7G,KAAKe,MAAM4G,cAC/DrC,MAAM,SAASvG,GAEhByG,QAAQqB,IAAI,2CAA4C9H,KAE1DQ,EAAK2B,SAAS,CAAEyG,WAAYpD,wFA3E5BvE,KAAKL,MAAMiJ,YAAY5I,KAAKL,MAAM0I,MAAMC,OAAOnG,IAE/C,IACgD,KAA1CnC,KAAKL,MAAMoD,SAAS2B,WAAWrC,QACjCrC,KAAKyI,gBAER,MAAMlD,0CAgGI,IAAAsD,EAAA7I,KACX,OAAOA,KAAKe,MAAM4G,WAAW7F,IAAK,SAAAgH,GAChC,OAAGA,EAEC7J,EAAAC,EAAAC,cAAA,OAAKN,UAAU,OAAOqD,IAAK4G,EAAM3G,IAC/BlD,EAAAC,EAAAC,cAAA,OAAKyI,QAASiB,EAAKjB,QAAS/I,UAAU,kCAAkC6G,IAAKoD,EAAM9C,QAAS+C,IAAI,KAChG9J,EAAAC,EAAAC,cAAA,OAAKN,UAAU,WACbI,EAAAC,EAAAC,cAAA,OAAKN,UAAU,kBAKhBI,EAAAC,EAAAC,cAAA,+CAsBT,OACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAKa,KAAKL,MAAMoD,SAASC,OACzB/D,EAAAC,EAAAC,cAAA,UAAKa,KAAKL,MAAMoD,SAASE,aACzBhE,EAAAC,EAAAC,cAAC6J,EAAD,CAAQnJ,SAAUG,KAAK6H,aACvB5I,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,OAAKN,UAAU,4CACZmB,KAAKsC,cAERrD,EAAAC,EAAAC,cAACiE,EAAD,CAAQvB,MAAOA,YAvJIxB,IAAMC,WAsKlBiB,cARS,SAACR,EAAOkI,GAC9B,MAAM,CACJlG,SAAW3D,OAAOiE,OAAOtC,EAAM+B,YAAamG,EAASZ,MAAMC,OAAOnG,MAM9B,CAAEyG,YPnGf,SAACzG,GAAD,OAAQ,SAACX,EAAU0H,GAI5C1H,EAAS,CAAEC,KCnGe,eDmGKC,QAHdwH,IAAWpG,WAAWX,OOkGciG,SPlJ/B,SAACjG,EAAIsC,EAAUC,GAErC,MAAM,CACJjD,KCjDqB,YDkDrBC,QAAS,CACPS,GAAIA,EACJsC,SAAUA,EACVC,WAAYA,KO2I+CyE,cP/JpC,SAAChH,EAAI6D,GAEhC,MAAO,CACLvE,KClCqB,YDmCrBC,QAAS,CACPS,GAAIA,EACJ6D,QAASA,EACTmC,cAAc,KOwJ4DiB,YP1LrD,SAACN,GAAD,sBAAArK,EAAAW,OAAAmE,EAAA,EAAAnE,CAAAoE,EAAAtE,EAAAuE,KAAW,SAAA4F,EAAO7H,EAAU0H,GAAjB,IAAAI,EAAAC,EAAA,OAAA/F,EAAAtE,EAAA2E,KAAA,SAAA2F,GAAA,cAAAA,EAAAzF,KAAAyF,EAAAxF,MAAA,cAgB9BsF,EAAW,IAAIG,UACZC,OAAO,QAAQZ,GAjBYU,EAAAxF,KAAA,EAmBbC,EAAM0F,KAdjB,mCAc2BL,GAnBH,OAmB9BC,EAnB8BC,EAAArF,KAoBpCqB,QAAQqB,IAAI,yBAA0B0C,GAEtC/H,EAAS,CAAEC,KCzBe,eDyBKC,QAAS6H,EAASnF,OAtBb,wBAAAoF,EAAA5E,SAAAyE,EAAArJ,SAAX,gBAAA4J,EAAAC,GAAA,OAAApL,EAAAqG,MAAA9E,KAAA+E,YAAA,KO0LZxD,CAAgFgG,GCvKhFuC,EAfH,WAEV,OACE7K,EAAAC,EAAAC,cAAA,OAAKN,UAAU,eAAeqE,MAAO,CAAE6G,UAAW,SAChD9K,EAAAC,EAAAC,cAAC6K,EAAA,EAAD,KACE/K,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC8K,EAAA,EAAD,CAAOhI,KAAK,cAAciI,OAAK,EAAC9J,UAAWmC,IAC3CtD,EAAAC,EAAAC,cAAC8K,EAAA,EAAD,CAAOhI,KAAK,kBAAkBiI,OAAK,EAAC9J,UAAWmH,IAC/CtI,EAAAC,EAAAC,cAAC8K,EAAA,EAAD,CAAOhI,KAAK,IAAIiI,OAAK,EAAC9J,UAAWU,yBCtBvCqJ,EAAgB,CACpBxJ,SAAU,KACVC,YAAa,KACbC,YAAa,gCCEAuJ,6BAAgB,CAC7B5J,KAAM6J,IACNC,ODDa,WAAmC,IAAlCvJ,EAAkCgE,UAAA1C,OAAA,QAAAuE,IAAA7B,UAAA,GAAAA,UAAA,GAA1BoF,EAAeI,EAAWxF,UAAA1C,OAAA,EAAA0C,UAAA,QAAA6B,EAChD,OAAQ2D,EAAO9I,MACb,IRVsB,aQWpB,OAAOrC,OAAAoL,EAAA,EAAApL,CAAA,GAAK2B,EAAZ,CACEJ,SAAU4J,EAAO7I,QAAQf,SACzBC,YAAa2J,EAAO7I,QAAQd,YAC5BC,YAAa0J,EAAO7I,QAAQb,cAEhC,QACE,OAAOE,ICPX+B,WCAa,WAAwB,IAAvB/B,EAAuBgE,UAAA1C,OAAA,QAAAuE,IAAA7B,UAAA,GAAAA,UAAA,GAAf,GAAIwF,EAAWxF,UAAA1C,OAAA,EAAA0C,UAAA,QAAA6B,EACrC,OAAQ2D,EAAO9I,MACb,IVXyB,gBUYvB,OAAOrC,OAAAoL,EAAA,EAAApL,CAAA,GAAK2B,EAAU0J,IAAEC,QAAQH,EAAO7I,QAAS,OAClD,IVTwB,eUWxB,IVZwB,eUatB,OAAOtC,OAAAoL,EAAA,EAAApL,CAAA,GAAK2B,EAAZ3B,OAAAuL,EAAA,EAAAvL,CAAA,GAAoBmL,EAAO7I,QAAQS,GAAKoI,EAAO7I,UACjD,IVX4B,mBUY1B,OAAOtC,OAAAoL,EAAA,EAAApL,CAAA,GAAK2B,EAAZ,CAAmB+B,WAAYyH,EAAO7I,UACxC,IVdqB,YUenB,OAAOtC,OAAAoL,EAAA,EAAApL,CAAA,GAAK2B,EAAZ3B,OAAAuL,EAAA,EAAAvL,CAAA,GAAoBmL,EAAO7I,QAAQS,GAAnC/C,OAAAoL,EAAA,EAAApL,CAAA,GACO2B,EAAMwJ,EAAO7I,QAAQS,IAD5B,CAEIsC,SAAU8F,EAAO7I,QAAQ+C,SACzBC,WAAY6F,EAAO7I,QAAQgD,eAGjC,QACE,OAAO3D,IDjBX6J,YETa,WAAwB,IAAvB7J,EAAuBgE,UAAA1C,OAAA,QAAAuE,IAAA7B,UAAA,GAAAA,UAAA,GAAf,GAAIwF,EAAWxF,UAAA1C,OAAA,EAAA0C,UAAA,QAAA6B,EACrC,OAAQ2D,EAAO9I,MACb,IXIqB,YWHnB,OAAOrC,OAAAoL,EAAA,EAAApL,CAAA,GAAK2B,EAAZ,CAAmB6J,YAAaL,EAAO7I,UACzC,QACE,OAAOX,MCOP8J,GCbyB,WAE7B,IACE,IAAMC,EAAatI,aAAaC,QAAQ,SACxC,GAAmB,OAAfqI,EACF,OAEF,OAAOC,KAAKC,MAAMF,GACnB,MAAOjI,GACN,QDImBoI,GACjBC,GAAmBC,OAAOC,sCAAwCC,UAElEC,GAAQC,sBACZC,GACAX,GACAK,GACEO,0BAAgBC,KAChBC,kBAAQC,OAKZN,GAAMO,UAAU,YCZe,SAAC9K,GAC9B,IACE,IAAM+J,EAAaC,KAAKe,UAAU/K,GAClCyB,aAAauJ,QAAQ,QAASjB,GAC/B,MAAOjI,KDSRmJ,CAAgB,CACd1B,OAAQgB,GAAMpC,WAAWoB,OACzBxH,WAAYwI,GAAMpC,WAAWpG,eAKjCmJ,IAASC,OACPjN,EAAAC,EAAAC,cAACgN,EAAA,EAAD,CAAUb,MAASA,IACjBrM,EAAAC,EAAAC,cAACiN,EAAD,OAEFlG,SAASmG,cAAc,8BEvCzBC,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.7dd3f2fd.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\n//Set up necessary parameters for POST to EmPower server\r\nconst authParam = { username: 'upload', password: 'nD2Qm9t4' };\r\n\r\n//TODO change baseURL to actual URL when app is hosted\r\nexport default axios.create({\r\n  baseURL:  'http://localhost:3000',\r\n  withCredentials: true,\r\n  auth: authParam\r\n});\r\n","/*\r\nInputForm - Re-usable menu/form\r\n\r\nPurpose:\r\nProvides a form template to be used in the app.\r\n2 input bars\r\n1 dropdown\r\n1 Button\r\n\r\n*/\r\n\r\n//import necessary packages\r\nimport React from 'react';\r\nimport {Field, reduxForm } from 'redux-form';\r\n\r\n\r\nclass InputForm extends React.Component{\r\n\r\n  //Helper method: renderError\r\n  //Handles when to display an error message\r\n  renderError({ error, touched }){\r\n    if (touched && error){\r\n      return(\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">{error}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  //Helper method: renderInput\r\n  //renders an input InputBar.  Depending on error message criteria, show error style\r\n  renderInput = ({label, input, meta}) => {\r\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`;\r\n    return (\r\n      <div className={className}>\r\n        <label>{label}</label>\r\n        <input {...input} autoComplete=\"off\"/>\r\n        {this.renderError(meta)}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  //TODO: This is a poor implementation for re-usability, make dropdown dynamic/props from parent\r\n  //IF YOU WANT TO CHANGE THE DEFAULT VALUE FOR DROPDOWN, CHANGE IN CreateJob.js!!!\r\n  //renders a dropdown menu\r\n  renderDropdown = ({label, input, meta}, props) => {\r\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`;\r\n    return(\r\n      <div className={className} >\r\n        <label>{label}</label>\r\n        <select {...input}>\r\n          <option value=\"solar\">Solar</option>\r\n          <option value=\"site-audit\">Site-Audit</option>\r\n        </select>\r\n        {this.renderError(meta)}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  //Run onClick when user clicks on button\r\n  onSubmit = (formValues) => {\r\n    this.props.onSubmit(formValues);\r\n  }\r\n\r\n  //Render page layout\r\n  render(){\r\n    return(\r\n      <form className=\"ui form error\" onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n        <Field name=\"userName\" label=\"User Name\" component={this.renderInput}/>\r\n        <Field name=\"projectName\" label=\"Project Name\" component={this.renderInput}/>\r\n        <Field name=\"profileName\" label=\"Profile\" component={this.renderDropdown}/>\r\n        <br/>\r\n        <button className=\"ui button primary\">Submit</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n//Helper method: validate\r\n//Used for validation\r\n/*\r\nUser Name or Project Name cannot be blank\r\n\r\n*/\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n\r\n  if (!formValues.userName){\r\n    errors.userName = 'You must enter a User Name';\r\n  }\r\n  if (!formValues.projectName){\r\n    errors.projectName = 'You must enter a Project Name';\r\n  }\r\n  if (!formValues.profileName){\r\n    errors.profileName = 'You must select a Profile';\r\n  }\r\n\r\n  return errors;\r\n\r\n}\r\n\r\n//Wire up ReduxForm\r\nexport default reduxForm({\r\n  form: 'inputForm',\r\n  validate\r\n})(InputForm);\r\n","/*\r\nCreateJob - First menu that shows to user.\r\n\r\nPurpose:\r\nUser inputs User Name, Project Name, and Profile.\r\nWhen user clicks 'submit', all three variables are saved onto the store.  User is presented with CategoryList\r\n\r\n*/\r\n\r\n//import necessary packages\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nimport { createNewJob } from '../../actions';\r\n\r\n//Import local components\r\nimport InputForm from '../InputForm';\r\n\r\nclass CreateJob extends React.Component{\r\n\r\n  state = { toCategories: false }\r\n\r\n  //TODO:  If there is localStorage, ask user if they want to start a new job or return to their previous one\r\n  //If new job, clear localStorage\r\n  //If old job, re-direct to /categories page\r\n  componentDidMount(){\r\n\r\n  }\r\n\r\n  //Callback function to InputForm\r\n  //On form Submit, save formValues to store and navigate user to categories list\r\n  onSubmit = (formValues) => {\r\n    this.props.createNewJob(formValues);\r\n    //set state to true for navigation\r\n    this.setState({ toCategories: true });\r\n\r\n    //history.push('/categories');\r\n  }\r\n\r\n  //Render page layout\r\n  //IF YOU WANT TO CHANGE THE DEFAULT VALUE FOR DROPDOWN, CHANGE initialValues Prop!!!\r\n  render(){\r\n    if(this.state.toCategories === true){\r\n      return <Redirect to='/categories' />\r\n    }\r\n\r\n    return(\r\n      <div>\r\n        <h1>SolarPix 2.0</h1>\r\n        <InputForm onSubmit={this.onSubmit} initialValues={{profileName: 'solar'}}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { createNewJob })(CreateJob);\r\n","import files from '../apis/files';\r\n//types.js just has action name/types for easier bug catching\r\nimport {\r\n  CREATE_JOB,\r\n  READ_TXT_FILE,\r\n  GEN_DUMMY,\r\n  GET_CATEGORY,\r\n  ADD_PHOTO,\r\n  TO_UPLOAD,\r\n  UPLOAD_IMAGE\r\n} from './types';\r\n\r\nexport const uploadImage = (image) => async (dispatch, getState) => {\r\n\r\n  //Set up necessary parameters for POST to EmPower server\r\n  //const authParam = { username: 'upload', password: 'nD2Qm9t4' };\r\n  //const params = { name: 'upload', filname: 'test_Filename' }\r\n  const url = 'https://upload.empower-solar.com';\r\n\r\n  //Set up necessary parameters for CORS proxy\r\n  /*\r\n  const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n  await fetch(proxyurl + url)\r\n  .then(response => response.text())\r\n  .then(contents => console.log(contents))\r\n  .catch(() => console.log(\"Canâ€™t access \" + url + \" response. Blocked by browser?\"))\r\n  */\r\n\r\n  const formData = new FormData();\r\n  formData.append('image',image);\r\n\r\n  const response = await files.post(url, formData);\r\n  console.log('this is the response: ', response);\r\n\r\n  dispatch({ type: UPLOAD_IMAGE, payload: response.data });\r\n\r\n};\r\n\r\n//Add image to uploadQueue\r\nexport const toUploadQueue = (id, dataURL) => {\r\n\r\n  return {\r\n    type: TO_UPLOAD,\r\n    payload: {\r\n      id: id,\r\n      dataURL: dataURL,\r\n      uploadStatus: false\r\n    }\r\n  }\r\n}\r\n\r\n//Adds photo to photoQueue for specific category\r\nexport const addPhoto = (id, photoQty, photoQueue) => {\r\n\r\n  return{\r\n    type: ADD_PHOTO,\r\n    payload: {\r\n      id: id,\r\n      photoQty: photoQty,\r\n      photoQueue: photoQueue\r\n    }\r\n  }\r\n\r\n}\r\n\r\n//Submit button saves NewJob data and navigates user to category list\r\nexport const createNewJob = (userName, projectName, profileName) => dispatch => {\r\n\r\n  dispatch({ type: CREATE_JOB, payload: {userName: userName, projectName: projectName, profile: profileName }});\r\n  //history.push('/categories');\r\n}\r\n\r\n//Reads text file using axios.\r\n//Waits for response before dispatching action\r\n//Splits response into objects with proper properties\r\nexport const readTextFile = (textFile) => async dispatch => {\r\n    var categoryArray = [];\r\n    var counter = 0;\r\n    //get categories file from component\r\n    const response = await files.get(textFile);\r\n    //create array of strings\r\n    var textArray = response.data.split(/\\n/);\r\n    //For each String, split string into id/title/description properties\r\n    //id generated by counter (dynamic for categorylist future proofing)\r\n    textArray.forEach( category => {\r\n      //For some reason there's a blank category/newline in the textFile, filter w/ category\r\n      if(category){\r\n        var tempArray = category.split(\"|\");\r\n        var obj = { id:counter, title:tempArray[0], description: tempArray[1], photoQty: 0, photoQueue: [] };\r\n        categoryArray.push(obj);\r\n        counter += 1;\r\n      }\r\n    });\r\n    //console.log(categoryArray);\r\n\r\n    dispatch({ type: READ_TXT_FILE, payload: categoryArray })\r\n}\r\n\r\n//Gets individual category data from store\r\nexport const getCategory = (id) => (dispatch, getState) => {\r\n  const category = getState().categories[id];\r\n  //console.log(category);\r\n\r\n  dispatch({ type: GET_CATEGORY, payload: category });\r\n}\r\n\r\n//Dev action creator, unnecessary\r\n//Provides dummy values (set up before getting readTextFile wired)\r\nexport const genDummyValues = () => {\r\n  return{\r\n    type: GEN_DUMMY,\r\n    payload:\r\n      [\r\n        {id:0, title:'Category 1', description: 'a1'},\r\n        {id:1, title:'Category 2', description: 'a2'},\r\n        {id:2, title:'Category 3', description: 'a3'},\r\n        {id:3, title:'Category 1', description: 'a1'},\r\n        {id:4, title:'Category 2', description: 'a2'},\r\n        {id:5, title:'Category 3', description: 'a3'},\r\n        {id:6, title:'Category 1', description: 'a1'},\r\n        {id:7, title:'Category 2', description: 'a2'},\r\n        {id:8, title:'Category 3', description: 'a3'},\r\n        {id:9, title:'Category 1', description: 'a1'},\r\n        {id:10, title:'Category 2', description: 'a2'},\r\n        {id:11, title:'Category 3', description: 'a3'}\r\n      ]\r\n  }\r\n}\r\n","export const CREATE_JOB = 'CREATE_JOB';\r\nexport const READ_TXT_FILE = 'READ_TXT_FILE';\r\nexport const FORMAT_CATEGORY_LIST = 'FORMAT_CATEGORY_LIST';\r\nexport const GEN_DUMMY = 'GEN_DUMMY';\r\nexport const GET_CATEGORY = 'GET_CATEGORY';\r\nexport const ENCODE_IMAGE = 'ENCODE_IMAGE';\r\nexport const ADD_PHOTO = 'ADD_PHOTO';\r\nexport const GET_LOCALSTORAGE = 'GET_LOCALSTORAGE';\r\nexport const TO_UPLOAD = 'TO_UPLOAD';\r\nexport const UPLOAD_IMAGE = 'UPLOAD_IMAGE'; \r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Footer extends React.Component{\r\n\r\n\r\n  //Renders list of links to be displayed in footer\r\n  renderList(props) {\r\n    return this.props.links.map( link => {\r\n      return(\r\n        <Link to={link.path} className=\"item\" key={link.id}>\r\n          {link.label}\r\n        </Link>\r\n      );\r\n    });\r\n  }\r\n\r\n  render(){\r\n    const classname = `ui bottom fixed ${this.props.links.length} item huge menu`\r\n    return (\r\n      <div className={classname}>\r\n        {this.renderList()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Footer;\r\n","/*\r\nCategoryList - Main working menu that shows categories\r\n\r\nPurpose:\r\nUser clicks category in order to open their mobile camera.\r\nUser can choose to upload(?) photos\r\n\r\n*/\r\n\r\nimport React from 'react';\r\n\r\nimport categoryListFile from '../../categoryListFile';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n//removed 'getLocalStorage'\r\nimport { readTextFile } from '../../actions';\r\n\r\nimport Footer from '../Footer';\r\n\r\n//Used for filling in footer\r\nconst links = [\r\n  { path: '/', id: 'newJob', label: 'New Job' }\r\n]\r\n\r\nclass CategoryList extends React.Component{\r\n\r\n  //If there is no localStorage, read text file and create categories.  Then save to localStorage\r\n  //Otherwise, load categories from localStorage\r\n  componentDidMount(){\r\n    try{\r\n      if(localStorage.getItem(\"state\").includes(`\"categories\":{}`)){\r\n        this.props.readTextFile(categoryListFile);\r\n      }\r\n    } catch (err) {\r\n      //catch error.  If state is null, create new categories list\r\n      this.props.readTextFile(categoryListFile);\r\n    }\r\n  }\r\n\r\n  //Renders list of categories and sets each to be a link to individual category page\r\n  renderList() {\r\n    return this.props.categories.map( category => {\r\n      return(\r\n        <Link to={`/categories/${category.id}`} className=\"item\" key={category.id}>\r\n          <i className=\"large middle aligned icon camera\" />\r\n          <div className=\"content\">\r\n            {category.title}\r\n            <div className=\"description\">{category.description}</div>\r\n          </div>\r\n        </Link>\r\n      );\r\n    });\r\n  }\r\n\r\n  //Render component calling renderList\r\n  render(){\r\n    return(\r\n      <div>\r\n        <h2>Category List</h2>\r\n        <div className=\"ui celled list\" style={{ marginBottom: '48px'}}>{this.renderList()}</div>\r\n        <Footer links={links}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n  return{\r\n    categories: Object.values(state.categories),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { readTextFile })(CategoryList);\r\n","//import React from 'react';\r\nimport Dexie from 'dexie';\r\n\r\n// Create your instance\r\nconst photoDatabase = new Dexie(\"photoDatabase\");\r\n\r\n// Define your schema\r\nphotoDatabase.version(1).stores({\r\n    photoStore: 'photoId, dataURL, uploadStatus'\r\n});\r\n\r\n// Open the photoDatabase\r\nphotoDatabase.open().catch(function (e) {\r\n    console.error(\"Open failed: \" + e);\r\n});\r\n\r\n\r\n\r\nexport default photoDatabase;\r\n","/*\r\nCategoryEdit - Individual Category look\r\n\r\nPurpose:\r\nUser able to take photos and edit existing photos for this category.\r\n\r\nCode from:\r\n//https://gist.github.com/HaNdTriX/7704632\r\n//Encodes image into base64 for localstorage\r\n\r\n*/\r\n\r\nexport const saveImage = (src, callback) => {\r\n  // Create an Image object\r\n  var img = new Image();\r\n  // Add CORS approval to prevent a tainted canvas\r\n  img.crossOrigin = 'Anonymous';\r\n  img.onload = () => {\r\n    //console.log('onload function entered');\r\n    // Create an html canvas element\r\n    var canvas = document.createElement('CANVAS');\r\n    // Create a 2d context\r\n    var ctx = canvas.getContext('2d');\r\n    var dataURL;\r\n    // Resize the canavas to the original image dimensions\r\n    canvas.height = img.naturalHeight;\r\n    canvas.width = img.naturalWidth;\r\n    // Draw the image to a canvas\r\n    ctx.drawImage(img, 0, 0);\r\n    // Convert the canvas to a data url\r\n    dataURL = canvas.toDataURL('image/jpeg',0.2);\r\n    // Return the data url via callback\r\n    callback(dataURL);\r\n    // Mark the canvas to be ready for garbage\r\n    // collection\r\n    canvas = null;\r\n  };\r\n  // Load the image\r\n  img.src = src;\r\n  // make sure the load event fires for cached images too\r\n  if (img.complete || img.complete === undefined) {\r\n    // Flush cache\r\n    img.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\r\n    // Try again\r\n    console.log('Image was cached, try to load again');\r\n    img.src = src;\r\n  }\r\n}\r\n","/*\r\nCamera - Renders a 'Take Photo' button that prompts user Camera\r\n\r\nPurpose:\r\nGet photo from user camera.  Hand off photo file through callback\r\n\r\n*/\r\n\r\nimport React from 'react';\r\n\r\nconst styles = {\r\n  display: 'none'\r\n};\r\n\r\nclass Camera extends React.Component {\r\n\r\n  //Callback function.  Returns taken photo\r\n  handleImage = (event) => {\r\n    this.props.onSubmit(event.target.files[0]);\r\n  }\r\n\r\n  //Render input tag 'Take Photo' to allow user to take photo with their camera\r\n  render (){\r\n    return(\r\n      <div className=\"ui labeled big input\">\r\n        <input className=\"inputfile\" id=\"file\" onChange={this.handleImage} type=\"file\" accept=\"image/*;capture=camera\" style={styles}/>\r\n        <label className=\"ui button large primary\" htmlFor=\"file\">Take Photo</label>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Camera;\r\n","/*\r\nCategoryEdit - Individual Category look\r\n\r\nPurpose:\r\nUser able to take photos and edit existing photos for this category.\r\n\r\n*/\r\n\r\n/*\r\n// TODO:\r\nDONE: Get category information from store\r\nCreate a \"photo\" object array that contains all the photos for each category based on id and get it into component from store\r\nrender all existing photos as thumbnails (as they exist)\r\nrender a 'New Photo' button that calls the mobile camera\r\nSeparate rows of photos for User-Friendliness\r\n*/\r\n\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getCategory, addPhoto, toUploadQueue, uploadImage } from '../../actions';\r\nimport photoDatabase from '../../apis/photoDatabase';\r\n\r\nimport { saveImage } from '../saveImage';\r\nimport Camera from '../Camera';\r\nimport Footer from '../Footer';\r\n\r\n//Used for footer\r\nconst links = [\r\n  { path: '/categories', id:'categoryList', label: 'Back' }\r\n];\r\n//import categoryListFile from '../../categoryListFile';\r\n\r\nclass CategoryEdit extends React.Component {\r\n\r\n  state = { imageTitle: \"\", imageId:\"\", imageQty: this.props.category.photoQty, thumbnails: [] };\r\n\r\n  //Fetch the category data from store\r\n  componentDidMount(){\r\n    this.props.getCategory(this.props.match.params.id);\r\n    //console.log(this.props.category.photoQueue.length);\r\n    try{\r\n      if(!this.props.category.photoQueue.length === 0){\r\n        this.getThumbnails();\r\n      }\r\n    }catch(e){\r\n      //Do something with error\r\n    }\r\n\r\n\r\n    /*\r\n    if(this.props.category.photoQueue){\r\n      this.getThumbnails();\r\n    }\r\n    */\r\n  }\r\n\r\n  //When user clicks on existing photo, open modal\r\n  //modal options (re-take or delete)\r\n  onClick = (id) => {\r\n    console.log(`user clicked existing image: ${id}`);\r\n  }\r\n\r\n  //callback to Camera to get Added photo file\r\n  onAddPhoto = (img) => {\r\n    //increment photoQty in local state\r\n    const imageQty = this.state.imageQty + 1;\r\n    //title syntax: \"title_imgQty\"\r\n    const imageTitle = `${this.props.category.title}_${imageQty}`;\r\n    //console.log('this is imageQty',imageQty);\r\n    //Set current imageId to lastmodified date\r\n    this.setState({ imageTitle: imageTitle, imageQty: imageQty, imageId: img.lastModified });\r\n    //convert image file to dataURL for storage\r\n    saveImage(URL.createObjectURL(img), this.getPhotoUrl);\r\n\r\n  }\r\n\r\n  //callback to saveImage that gets photo url\r\n  //Adds data to photoQueue.  Save image data to uploadQueue.  Re-render\r\n  getPhotoUrl = (photoUrl) => {\r\n    //Update photoqueue with id, title, upload status\r\n    var photoQueue = this.props.category.photoQueue;\r\n    photoQueue.push({ id: this.state.imageId, imageTitle: this.state.imageTitle, uploadStatus: false });\r\n    //Update store w/ id, imageQty, photoQueue\r\n    this.props.addPhoto(this.props.match.params.id, this.state.imageQty, photoQueue);\r\n\r\n    //TODO: Save actual image data into uploadQueue, uploadStatus: false\r\n    //this.props.toUploadQueue(this.state.imageId, photoUrl);\r\n    //Get the thumbnails to display\r\n    //this.getThumbnails();\r\n    photoDatabase.photoStore.add({ photoId: this.state.imageId, dataURL: photoUrl, uploadStatus: false })\r\n    this.getThumbnails();\r\n\r\n    //Testing:  Upload image to server\r\n    //this.props.uploadImage(photoUrl);\r\n\r\n    //re-render\r\n    this.setState({ imageId: \"\", imageTitle: \"\" });\r\n  }\r\n\r\n  getThumbnails = () => {\r\n    console.log('entered getThumbnails');\r\n    var tempArray = this.state.thumbnails;\r\n    const photoQueue = this.props.category.photoQueue;\r\n    //enter transaction w/ photoDatabase.  Retrieve all dataURL's\r\n    photoDatabase.transaction(\"r\", photoDatabase.photoStore, function() {\r\n      for (var i = 0; i<photoQueue.length; i++){\r\n        tempArray.push(photoDatabase.photoStore.get(photoQueue[i].id));\r\n      }\r\n      console.log('This is thumbnails after get from db: ',this.state.thumbnails);\r\n    }).catch(function(error){\r\n      //do something with error\r\n      console.log('There was an error fetching thumbnails: ', error);\r\n    });\r\n    this.setState({ thumbnails: tempArray });\r\n  }\r\n  /*\r\n\r\n  //Gets thumbnail from store using imageId\r\n  getThumbnails2 = () => {\r\n    const finalArray = [];\r\n    const photoQueue = this.props.category.photoQueue;\r\n    const uploadQueue = this.props.uploadQueue;\r\n\r\n    //For each element id in photoQueue, compare with element id's in uploadQueue\r\n    //If the id's match, push an object w/ id and dataURL to thumbnail array\r\n    photoQueue.forEach((e1) => uploadQueue.forEach((e2) => {\r\n        if(e1.id === e2.id){\r\n          finalArray.push({ id: e2.id, dataURL: e2.dataURL })\r\n        }\r\n      }\r\n    ));\r\n    //console.log(finalArray);\r\n    this.setState({ thumbnails: finalArray });\r\n  }\r\n  */\r\n\r\n\r\n\r\n  //render list of photos\r\n  //Id doesn't update for repeat file upload.\r\n  renderList() {\r\n    return this.state.thumbnails.map( image => {\r\n      if(image){\r\n        return(\r\n          <div className=\"item\" key={image.id}>\r\n            <img onClick={this.onClick} className=\"ui small rounded centered image\" src={image.dataURL} alt=\"\"/>\r\n            <div className=\"content\">\r\n              <div className=\"description\"></div>\r\n            </div>\r\n          </div>\r\n        );\r\n      };\r\n      return <div></div>;\r\n    });\r\n  }\r\n  /*\r\n  renderList() {\r\n    return this.props.category.photoQueue.map( image => {\r\n      if(image){\r\n        return(\r\n          <div className=\"item\" key={image.id}>\r\n            <img onClick={this.onClick} className=\"ui small rounded centered image\" src={image.dataURL} alt=\"\"/>\r\n            <div className=\"content\">\r\n              <div className=\"description\"></div>\r\n            </div>\r\n          </div>\r\n        );\r\n      };\r\n      return <div></div>;\r\n    });\r\n  }\r\n  */\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <h2>{this.props.category.title}</h2>\r\n        <h3>{this.props.category.description}</h3>\r\n        <Camera onSubmit={this.onAddPhoto}/>\r\n        <h3>Photos</h3>\r\n        <div className=\"ui huge horizontal selection celled list\">\r\n          {this.renderList()}\r\n        </div>\r\n        <Footer links={links} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n//Put category data into category props\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return{\r\n    category: (Object.values(state.categories))[ownProps.match.params.id],\r\n    //uploadQueue: (Object.values(state.uploadQueue))\r\n    //dummyValues: Object.values(state.dummyValues)\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { getCategory, addPhoto, toUploadQueue, uploadImage })(CategoryEdit);\r\n\r\n\r\n  /*\r\n  //If a user uploads an image, displays preview of image\r\n  renderAddPhotoImage() {\r\n    if(this.state.image){\r\n      return(\r\n        <img className=\"ui large rounded centered image\" src={this.state.image} />\r\n      );\r\n    }\r\n  }\r\n  */\r\n\r\n  //TODO: Get individual clicks for these elements to open up existing image\r\n  //renders the list of existing images\r\n  /*\r\n  renderListTemp() {\r\n    return this.props.dummyValues.map( photo => {\r\n      return(\r\n        <div onClick={this.onClick(photo.id)} className=\"item\" key={photo.id}>\r\n          <i className=\"large right aligned icon file image\" />\r\n          <div className=\"content\">\r\n            {photo.title}\r\n            <div className=\"description\">{photo.description}</div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n  */\r\n","/*\r\nApp\r\n\r\nSets up history and routing for components.\r\n\r\n*/\r\n\r\nimport React from 'react';\r\n//Import history.  May have to change this based on Host site\r\nimport { HashRouter, Route } from 'react-router-dom';\r\n//import history from '../history';\r\n//Import local components\r\nimport CreateJob from './pages/CreateJob';\r\nimport CategoryList from './pages/CategoryList';\r\nimport CategoryEdit from './pages/CategoryEdit';\r\n\r\nconst App = () => {\r\n\r\n  return (\r\n    <div className=\"ui container\" style={{ marginTop: '10px'}}>\r\n      <HashRouter>\r\n        <div>\r\n            <Route path=\"/categories\" exact component={CategoryList}/>\r\n            <Route path=\"/categories/:id\" exact component={CategoryEdit}/>\r\n            <Route path=\"/\" exact component={CreateJob}/>\r\n        </div>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { CREATE_JOB } from '../actions/types'\r\n\r\nconst INITIAL_STATE = {\r\n  userName: null,\r\n  projectName: null,\r\n  profileName: null\r\n}\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type){\r\n    case CREATE_JOB:\r\n      return { ...state,\r\n        userName: action.payload.userName,\r\n        projectName: action.payload.projectName,\r\n        profileName: action.payload.profileName\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nimport newJobReducer from './newJobReducer';\r\nimport categoriesReducer from './categoriesReducer';\r\nimport toUploadReducer from './toUploadReducer';\r\n\r\nexport default combineReducers({\r\n  form: formReducer,\r\n  newJob: newJobReducer,\r\n  categories: categoriesReducer,\r\n  uploadQueue: toUploadReducer\r\n})\r\n","import _ from 'lodash';\r\nimport {\r\n  READ_TXT_FILE,\r\n  ENCODE_IMAGE,\r\n  GET_CATEGORY,\r\n  GET_LOCALSTORAGE,\r\n  ADD_PHOTO\r\n} from '../actions/types';\r\n\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type){\r\n    case READ_TXT_FILE:\r\n      return { ...state, ..._.mapKeys(action.payload, 'id')};\r\n    case ENCODE_IMAGE:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case GET_CATEGORY:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case GET_LOCALSTORAGE:\r\n      return { ...state, categories: action.payload };\r\n    case ADD_PHOTO:\r\n      return { ...state, [action.payload.id]: {\r\n          ...state[action.payload.id],\r\n          photoQty: action.payload.photoQty,\r\n          photoQueue: action.payload.photoQueue\r\n        }\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { TO_UPLOAD } from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type){\r\n    case TO_UPLOAD:\r\n      return { ...state, uploadQueue: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","//Import boilerplate (third party)\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\nimport { offline } from '@redux-offline/redux-offline';\r\nimport offlineConfig from '@redux-offline/redux-offline/lib/defaults';\r\n//import photoDatabase from './apis/photoDatabase';\r\n//Import local files (main components)\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\nimport { getLocalStorage, setLocalStorage } from './localStorage';\r\n\r\nconst persistedState = getLocalStorage();\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  persistedState,\r\n  composeEnhancers(\r\n    applyMiddleware(reduxThunk),\r\n    offline(offlineConfig)\r\n  )\r\n);\r\n\r\n//Need to save state anytime the store state changes\r\nstore.subscribe(() => {\r\n  setLocalStorage({\r\n    newJob: store.getState().newJob,\r\n    categories: store.getState().categories\r\n\r\n  });\r\n});\r\n\r\nReactDOM.render(\r\n  <Provider store = {store}>\r\n    <App/>\r\n  </Provider>,\r\n  document.querySelector('#root')\r\n);\r\n","//Gets state from localStorage\r\nexport const getLocalStorage = () => {\r\n  //console.log('This is the action', localCategories);\r\n  try {\r\n    const localState = localStorage.getItem('state');\r\n    if (localState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(localState);\r\n  }catch (err) {\r\n    return undefined;\r\n  }\r\n}\r\n\r\n//Saves state to localStorage\r\nexport const setLocalStorage = (state) => {\r\n  try{\r\n    const localState = JSON.stringify(state);\r\n    localStorage.setItem('state', localState);\r\n  }catch (err) {\r\n    //write something\r\n  }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/categoryListFile.aaaad6f5.bin\";"],"sourceRoot":""}